<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>new</title>
</head>
<body>
<script type="text/javascript">

    const _new = function(constructor, ...args) {
        // 补全代码
        // 创建一个新对象，继承构造函数的原型
        const obj = Object.create(constructor.prototype);

        // 调用构造函数，并将 this 指向新对象
        const result = constructor.apply(obj, args);

        // 如果构造函数返回了一个对象，则返回该对象，否则返回新对象
        return typeof result === 'object' && result !== null ? result : obj;
    }


    function Person(name, age) {
        this.name = name;
        this.age = age;
    }

    Person.prototype.greet = function() {
        console.log("Hello, my name is " + this.name);
    };

    let john = _new(Person,"John", 25);
    console.log(john.name); // 输出："John"
    console.log(john.age); // 输出：25
    john.greet(); // 输出："Hello, my name is John"

</script>
</body>
</html>
