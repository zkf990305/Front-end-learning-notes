<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>浅拷贝</title>
</head>
<body>
    <script type="text/javascript">
        const _shallowClone = target => {
            // 补全代码
            if (typeof target !== 'object' || target === null) {
                return target;
            }

            let newObj;

            if (target instanceof Date) {
                newObj = new Date(target);
            } else if (target instanceof RegExp) {
                newObj = new RegExp(target);
            } else if (target instanceof Function) {
                // 如果拷贝的对象是一个函数，则直接返回原函数
                return target;
            } else {
                newObj = Array.isArray(target) ? [] : {};
                for (let key in target) {
                    if (target.hasOwnProperty(key)) {
                        newObj[key] = target[key];
                    }
                }
            }
            return newObj;
        }
        // 样例
        const obj = {
            name: 'John',
            age: 30,
            array: [1, 2, 3],
            date: new Date(),
            regex: /abc/,
            func: function() { console.log('hello'); }
        };

        const copy = _shallowClone(obj);

        console.log(copy); // 打印拷贝后的新对象
        console.log(copy === obj); // 打印 false，表示是两个不同的对象

        // 修改拷贝后的对象的属性
        copy.name = 'Jane';
        copy.array.push(4);

        console.log(obj.name); // 打印原始对象的name属性，仍为'John'
        console.log(obj.array); // 打印原始对象的array属性，已被修改为[1, 2, 3, 4]
    </script>
</body>
</html>
